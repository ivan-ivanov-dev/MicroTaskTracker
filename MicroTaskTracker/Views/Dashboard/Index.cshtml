@model MicroTaskTracker.Models.ViewModels.Dashboard.DashboardViewModel

@{
    ViewData["Title"] = "Dashboard";
}
<div class="dashboard-wrapper">

    <!-- Dashboard Header -->
    <div class="mb-5 text-center">
        <h1 class="display-4 fw-bold">@ViewData["Title"]</h1>
        <p class="lead text-muted mt-2">
            Let's make progress today! Track your tasks and goals, and take action to move forward.
        </p>
        <p class="dashboard-motivation">Keep your momentum going! Track your tasks, focus on your current goal, and take meaningful steps today.</p>
    </div>

    <!-- Progress Bars Section -->
    <div class="dashboard-progress">
        <div class="mb-5" style="max-width: 600px; margin: 0 auto;">
            <!-- Total Tasks Progress -->
            @if (Model.Stats.TotalTasksDueToday > 0)
            {
                <div class="mb-4">
                    <h6 class="fw-semibold">Today's Tasks Progress</h6>
                    <div class="progress" style="height: 24px;">
                        <div class="progress-bar bg-primary" role="progressbar"
                             style="width: @(Model.Stats.CompletedTasksDueToday * 100 / Model.Stats.TotalTasksDueToday)%"
                             aria-valuenow="@Model.Stats.CompletedTasksDueToday"
                             aria-valuemin="0"
                             aria-valuemax="@Model.Stats.TotalTasksDueToday">
                            @Model.Stats.CompletedTasksDueToday / @Model.Stats.TotalTasksDueToday
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="mb-4 text-center">
                    <a asp-controller="Tasks" asp-action="Index" class="btn btn-primary">Create Your First Task</a>
                </div>
            }
            <!-- Weekly Progress Placeholder -->
            <div class="mb-4">
                <h6 class="fw-semibold">Weekly Progress</h6>
                @if (Model.Stats.CompletedTasks > 0)
                {
                    <div class="progress" style="height: 24px;">
                        <div class="progress-bar bg-success" role="progressbar"
                             style="width: @(Model.Stats.CompletedTasks * 100 / Model.Stats.TotalTasks)%"
                             aria-valuenow="@Model.Stats.CompletedTasks"
                             aria-valuemin="0"
                             aria-valuemax="@Model.Stats.TotalTasks">
                            @Model.Stats.CompletedTasks / @Model.Stats.TotalTasks
                        </div>
                    </div>
                }
                else
                {
                    <div class="text-center py-3 text-muted">
                        No tasks completed this week. Start planning your week to see progress!
                    </div>
                }
            </div>
    </div>

        <hr class="dashboard-divider my-5" />
        <!-- Action Cards Section -->
        <div class="row g-4 justify-content-center">
            <!-- Create Goal Card -->
            <div class="col-md-4">
                <div class="card h-100 text-center hover-card">
                    <div class="card-body">
                        <h5 class="card-title fw-bold">Create a Goal</h5>
                        <p class="card-text text-muted">Define your ambitions and take the first step toward achieving them.</p>
                        <a asp-controller="Goals" asp-action="Create" class="dashboard-card dashboard-card-goal col-md-3"></a>
                    </div>
                </div>
            </div>

            <!-- Roadmap Card -->
            <div class="col-md-4">
                <div class="card h-100 text-center hover-card">
                    <div class="card-body">
                        <h5 class="card-title fw-bold">Build a Roadmap</h5>
                        <p class="card-text text-muted">Break your goals into actionable steps and stay on track.</p>
                        <a asp-controller="Roadmaps" asp-action="Index" class="dashboard-card dashboard-card-roadmap col-md-3"></a>
                    </div>
                </div>
            </div>

            <!-- Daily Planner Card -->
            <div class="col-md-4">
                <div class="card h-100 text-center hover-card">
                    <div class="card-body">
                        <h5 class="card-title fw-bold">Plan Your Day</h5>
                        <p class="card-text text-muted">Organize your tasks and ensure progress every day.</p>
                        <a asp-controller="Tasks" asp-action="Index" class="dashboard-card dashboard-card-daily col-md-3"></a>
                    </div>
                </div>
            </div>
        </div>
</div>
